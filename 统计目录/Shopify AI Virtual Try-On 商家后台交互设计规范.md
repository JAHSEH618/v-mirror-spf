# Shopify AI Virtual Try-On 商家后台交互设计规范

**文档版本:** 1.0  
**最后更新:** 2026-01-23  
**作者:** Manus AI  
**基于设计图:** `admin_onboarding_settings.png`

---

## 文档概述

本文档详细说明了 Shopify AI Virtual Try-On 应用商家后台中两个核心页面的交互设计规范,包括安装引导页面和外观配置页面。文档面向产品设计师、前端开发工程师和交互设计师,旨在确保实现过程中每个模块的交互行为清晰明确,符合设计意图。

---

## 第一部分:安装引导页面 (Get Started with AI Virtual Try-On)

### 页面定位与目标

安装引导页面是新用户首次使用应用时的必经之路。该页面的核心目标是通过清晰的分步指引,帮助商家快速完成应用的核心配置,确保虚拟试穿功能能够在其店铺中正常运行。页面设计强调任务的可视化进度和明确的操作指引,减少用户的认知负担。

### 页面布局

页面采用垂直单列布局,从上到下依次排列页面标题、三个步骤卡片和帮助中心卡片。每个步骤卡片采用统一的卡片样式,包含步骤编号、图标、标题、描述、状态徽章和操作按钮。

### 模块交互详解

#### 模块 1.1: 页面标题

页面顶部显示大号标题文字"Get Started with AI Virtual Try-On",为用户提供明确的页面上下文。标题为静态文本,不包含任何交互行为。

#### 模块 1.2: 步骤卡片 - 安装应用扩展

该步骤卡片展示了应用安装的完成状态。卡片左侧显示一个紫色背景的拼图图标,象征应用扩展的概念。卡片中央包含步骤编号"1"、标题"Install App Extension"和描述文字"The app is now installed in your store"。卡片右上角显示一个绿色的"Completed"徽章,徽章内包含对勾图标,清晰地传达了该步骤已经完成的信息。

**交互逻辑:** 该卡片为只读状态,不响应任何用户操作。鼠标悬停时不应出现任何视觉变化,以表明此步骤无需用户进一步操作。该步骤在用户安装应用后由系统自动标记为完成。

#### 模块 1.3: 步骤卡片 - 在主题编辑器中启用

该步骤卡片是当前需要用户操作的核心步骤。卡片左侧显示一个紫色背景的画笔图标,象征主题编辑的概念。卡片中央包含步骤编号"2"、标题"Enable in Theme Editor"和详细的描述文字"Go to your theme customizer and enable the AI Try-On app block"。卡片右上角显示一个橙色的"Action Required"徽章,徽章内包含警告图标,强调该步骤需要用户立即操作。卡片底部包含一个紫色填充的主按钮,按钮文字为"Open Theme Editor"。

**交互逻辑:** 

该卡片应通过视觉强调(例如细微的紫色外发光或加粗的边框)来吸引用户注意力,表明这是当前的激活步骤。当鼠标悬停在卡片上时,卡片的阴影应轻微加深,提供微妙的视觉反馈。

当用户将鼠标悬停在"Open Theme Editor"按钮上时,按钮的背景色应从标准紫色(`#7C3AED`)变为更深的紫色(`#6D28D9`),鼠标指针应变为手形,表明该元素可点击。此时可以显示一个工具提示(Tooltip),内容为"在新的标签页中打开您的 Shopify 主题编辑器",为用户提供额外的操作说明。

当用户点击按钮时,应触发一个新窗口打开事件(`window.open()`),在新的浏览器标签页中加载商家的 Shopify 主题编辑器页面(URL 路径为 `/admin/themes/current/editor`)。点击后,当前页面不应发生跳转,以便用户在完成主题编辑后可以返回此页面查看进度。

**状态变更逻辑:** 该步骤的状态不会在用户点击按钮后立即改变为"已完成"。应用后台需要通过 Shopify Webhook 机制或定时轮询来监测商家是否真的在主题编辑器中启用了 AI Try-On 的 App Block。一旦后台检测到 App Block 已被启用并保存,该步骤的状态应自动更新为"Completed",徽章颜色变为绿色,同时步骤3应从禁用状态变为激活状态。页面可以通过 WebSocket 实时推送或用户刷新页面来反映这一状态变化。

#### 模块 1.4: 步骤卡片 - 测试并上线

该步骤卡片展示了最后一个配置步骤。卡片左侧显示一个紫色背景的火箭图标,象征上线的概念。卡片中央包含步骤编号"3"、标题"Test & Go Live"和描述文字"Try the virtual try-on feature on a product page"。卡片右上角显示一个灰色的"Pending"徽章,徽章内包含时钟图标,表明该步骤尚未开始。卡片底部包含一个白色描边的次要按钮,按钮文字为"View Demo"。

**交互逻辑(禁用状态):** 

在初始状态下,由于步骤2尚未完成,该卡片应处于禁用状态。整个卡片及其内部所有元素(图标、文字、按钮)的透明度应降低至约60%(`opacity: 0.6`),以视觉上传达其不可用性。

当用户将鼠标悬停在"View Demo"按钮上时,鼠标指针应变为"禁止"图标(`cursor: not-allowed`),明确告知用户该按钮当前不可点击。此时可以显示一个工具提示(Tooltip),内容为"请先完成上一步以启用此功能",为用户提供清晰的操作指引。

**交互逻辑(激活状态):** 

当步骤2的状态变更为"Completed"后,该卡片应自动从禁用状态切换为激活状态。卡片的透明度应恢复为100%,所有元素变得清晰可见。"View Demo"按钮变为可点击状态。

当用户将鼠标悬停在激活状态的"View Demo"按钮上时,按钮的背景色应从白色变为浅灰色(`#F3F4F6`),提供视觉反馈。鼠标指针变为手形。

当用户点击按钮时,应触发一个新窗口打开事件,在新的浏览器标签页中加载一个预设的商品详情页面,该页面应已启用虚拟试穿功能,供商家进行实际测试。

**状态变更逻辑:** 该步骤的状态变更逻辑可以有两种设计方案。方案一是用户点击"View Demo"后,系统自动将该步骤标记为"Completed",认为用户已经完成了测试。方案二是保持该步骤为开放状态,不自动标记为完成,让商家自行判断是否已充分测试。建议采用方案二,因为测试是一个主观的过程,不应由系统强制判定完成。

#### 模块 1.5: 帮助中心卡片

页面底部显示一个帮助中心卡片,为用户提供额外的支持入口。卡片左侧显示一个紫色圆形背景的问号图标。卡片中央包含标题"Need Help?"和描述文字"Check our documentation or contact support"。卡片底部包含一个紫色文字链接"View Documentation"。

**交互逻辑:** 

当用户将鼠标悬停在"View Documentation"链接上时,链接文字下方应出现下划线,鼠标指针变为手形,提供标准的链接视觉反馈。

当用户点击链接时,应触发一个新窗口打开事件,在新的浏览器标签页中加载应用的帮助文档网站或在线文档页面。该帮助中心卡片在整个引导流程中始终可用,不受步骤状态的影响。

### 页面状态流转总结

| 状态节点 | 步骤1状态 | 步骤2状态 | 步骤3状态 | 触发条件 |
|---------|----------|----------|----------|---------|
| 初始状态 | Completed | Action Required | Pending (禁用) | 用户首次进入页面 |
| 步骤2完成 | Completed | Completed | Pending (激活) | 后台检测到 App Block 已启用 |
| 步骤3完成 | Completed | Completed | Completed | 用户点击 View Demo (可选) |

---

## 第二部分:外观配置页面 (Customize Appearance)

### 页面定位与目标

外观配置页面允许商家深度定制虚拟试穿前端小部件的视觉样式和行为逻辑,以确保小部件能够无缝融入其品牌风格。页面的核心目标是提供一个直观、实时的配置体验,让商家可以即时看到每一项修改的视觉效果,从而快速做出设计决策。

### 页面布局

页面采用左右分栏布局。左侧为配置区,包含多个配置模块,从上到下依次排列。右侧为预览区和颜色选择区,提供实时的视觉反馈。页面底部包含操作按钮区。

### 模块交互详解

#### 模块 2.1: 小部件位置配置

该模块位于页面左上方,标题为"Widget Position"。该模块的目标是让商家精确控制前端浮动按钮在商品页面上的显示位置。

**子模块 2.1.1: 浮动按钮位置选择**

该子模块包含一个单选按钮组(Radio Group),提供两个互斥的选项:"Bottom Right"(右下角)和"Bottom Left"(左下角)。默认情况下,"Bottom Right"选项应处于选中状态。

**交互逻辑:** 当用户点击任一选项时,该选项立即变为选中状态,另一选项自动取消选中。选中状态应通过视觉样式明确表示,例如选中的单选按钮内部填充紫色圆点,未选中的单选按钮为空心圆圈。选项文字在选中时可以加粗,以增强视觉区分度。

选中状态的改变应立即更新内部状态变量(例如 `config.position`)。如果页面右侧有实时预览区域(显示一个模拟的商品页面和浮动按钮),预览区域中的按钮位置应实时切换到对应的角落,无需用户点击"保存"按钮。

**子模块 2.1.2: 水平偏移滑块**

该子模块包含一个标签"Horizontal Offset"、一个滑块控件和一个实时数值显示区域。滑块允许用户调整浮动按钮距离屏幕边缘的水平距离。

**交互逻辑:** 滑块的取值范围建议为0px到100px。滑块右侧应实时显示当前的偏移值,例如"20px",字体颜色可以使用紫色(`#7C3AED`)以保持品牌一致性。

当用户拖动滑块的滑块手柄(Thumb)时,数值显示区域应实时更新,以毫秒级的响应速度反映滑块的当前位置。如果页面右侧有实时预览区域,预览区域中的浮动按钮应平滑地跟随滑块值的变化进行水平移动,提供流畅的视觉反馈。

当用户释放鼠标后,最终的偏移值应被保存到内部状态变量(例如 `config.horizontalOffset`)。滑块应支持键盘操作,用户可以通过左右箭头键进行微调。

**子模块 2.1.3: 垂直偏移滑块**

该子模块的结构和交互逻辑与水平偏移滑块完全一致,唯一的区别是它控制的是浮动按钮距离屏幕底部的垂直距离。标签为"Vertical Offset",取值范围同样建议为0px到100px。预览区域中的浮动按钮应根据该滑块的值进行垂直移动。

#### 模块 2.2: 颜色配置

该模块位于页面右上方,标题为"Colors"。该模块的目标是让商家自定义小部件的主题颜色,以匹配其品牌色彩体系。

**子模块 2.2.1: 主色调选择**

该子模块包含一个标签"Primary Color"、一个颜色预览框和一个十六进制(HEX)颜色代码输入框。颜色预览框显示当前选中的主色调,输入框显示对应的HEX代码,例如"#7C3AED"。

**交互逻辑:** 

当用户点击颜色预览框时,应弹出一个颜色选择器面板(Color Picker)。该面板可以是浏览器原生的颜色选择器(通过 `<input type="color">` 实现),也可以是自定义的颜色选择器组件,后者可以提供更丰富的功能,例如色相、饱和度、亮度的独立调节,以及最近使用颜色的历史记录。

当用户在颜色选择器中选择一个新的颜色时,颜色预览框的背景色应立即更新,HEX输入框中的代码也应同步更新。如果页面右侧有实时预览按钮,预览按钮的背景色应实时变为新选择的颜色,无需用户点击"保存"按钮。

当用户直接在HEX输入框中输入或修改颜色代码时,系统应实时验证输入的合法性。如果输入的是有效的HEX代码(例如 `#FF5733` 或 `#F57`),颜色预览框和实时预览按钮应立即更新为对应的颜色。如果输入的是无效代码,可以通过输入框边框变红或显示错误提示来告知用户。

**子模块 2.2.2: 按钮文字颜色选择**

该子模块的结构和交互逻辑与主色调选择完全一致,唯一的区别是它控制的是小部件按钮上文字的颜色。标签为"Button Text",默认值通常为白色(`#FFFFFF`)。实时预览按钮的文字颜色应根据该设置实时更新。

**子模块 2.2.3: 实时预览按钮**

该子模块位于颜色配置区域的下方,显示一个模拟的前端浮动按钮。该按钮的背景色绑定到"Primary Color"的当前值,文字颜色绑定到"Button Text"的当前值,文字内容绑定到"Text Customization"模块中"Button Text"输入框的当前值。

**交互逻辑:** 该预览按钮是一个纯视觉展示元素,不应响应点击事件。其唯一的作用是为用户提供一个实时的、所见即所得的视觉反馈,让用户可以直观地评估其配置选择的效果。预览按钮的样式(圆角、阴影、字体大小等)应尽可能接近前端实际显示的按钮样式,以确保预览的准确性。

#### 模块 2.3: 文本定制

该模块位于页面左侧中部,标题为"Text Customization"。该模块的目标是让商家自定义小部件上显示的各种文本内容,以适应不同的语言和品牌语调。

**子模块 2.3.1: 按钮文字输入**

该子模块包含一个标签"Button Text"和一个单行文本输入框。输入框的默认值为"Try It On"。

**交互逻辑:** 当用户在输入框中输入或修改文字时,页面右侧的实时预览按钮上的文字应实时更新,以毫秒级的响应速度反映用户的输入。输入框应支持所有常见的文本编辑操作,例如复制、粘贴、撤销、重做等。建议对输入长度进行限制,例如最多30个字符,以确保按钮在前端页面上的显示不会过于拥挤。

**子模块 2.3.2: 弹窗标题输入**

该子模块包含一个标签"Modal Title"和一个单行文本输入框。输入框的默认值为"AI Virtual Try-On"。

**交互逻辑:** 用户在该输入框中输入的文字将用于前端弹窗的标题区域。由于该文字不会在实时预览按钮上显示,因此无需实时更新预览。输入框应支持常见的文本编辑操作,建议对输入长度进行限制,例如最多50个字符。

**子模块 2.3.3: 上传说明输入**

该子模块包含一个标签"Upload Instructions"和一个多行文本区域(Textarea)。文本区域的默认值为一段占位文字,例如"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed diam nonummy nibh."。

**交互逻辑:** 用户在该文本区域中输入的文字将用于前端弹窗中上传区域的说明文字。文本区域应支持多行输入和常见的文本编辑操作。建议对输入长度进行限制,例如最多200个字符,以确保说明文字在前端页面上的显示不会过长。文本区域应支持自动换行,并提供滚动条以便用户查看和编辑较长的文本。

#### 模块 2.4: 高级选项

该模块位于页面左侧下方,标题为"Advanced Options"。该模块的目标是提供一些不常用但很重要的高级配置项,以满足有特殊需求的商家。

**子模块 2.4.1: 可折叠面板**

该模块采用可折叠面板(Collapsible Panel)的设计模式,以节省页面空间并降低初次使用时的认知负担。面板的标题区域显示"Advanced Options"文字,右侧显示一个"V"形图标(Chevron Icon)。

**交互逻辑:** 

面板的默认状态建议为收起(Collapsed),即内容区域不可见,只显示标题栏。"V"形图标应指向下方,表明面板可以展开。

当用户点击标题区域的任意位置(包括标题文字和图标)时,面板应展开,内容区域以平滑的动画效果(例如高度从0增加到实际高度,持续时间约300毫秒)显示出来。同时,"V"形图标应旋转180度,指向上方,表明面板可以收起。

当用户再次点击标题区域时,面板应收起,内容区域以平滑的动画效果隐藏。"V"形图标旋转回原始方向。

**子模块 2.4.2: 在移动端显示开关**

该子模块包含一个标签"Show on Mobile"、一个描述文字"Display the widget on mobile devices"和一个开关控件(Toggle Switch)。

**交互逻辑:** 

开关控件有两种状态:开启(ON)和关闭(OFF)。开启状态下,开关的背景色为紫色(`#7C3AED`),滑块手柄位于右侧。关闭状态下,开关的背景色为灰色(`#D1D5DB`),滑块手柄位于左侧。

当用户点击开关的任意位置时,开关应在两种状态之间切换。切换过程应包含平滑的动画效果,例如滑块手柄从一侧滑动到另一侧,背景色渐变,持续时间约200毫秒。

开关状态的改变应立即更新内部状态变量(例如 `config.showOnMobile`)。该设置将影响前端小部件是否在移动设备上显示。开启时,小部件在移动设备上可见;关闭时,小部件仅在桌面设备上可见。

**子模块 2.4.3: 自动检测服装商品开关**

该子模块的结构和交互逻辑与"在移动端显示开关"完全一致。标签为"Auto-detect Clothing Products",描述文字为"Only show widget on clothing items"。

**交互逻辑:** 该开关控制前端小部件是否仅在服装类商品页面上显示。开启时,应用将尝试通过商品标签、分类或其他元数据来自动识别商品是否为服装,并仅在服装商品页显示小部件。关闭时,小部件将在所有商品页面上显示,不进行任何过滤。

**子模块 2.4.4: 动画样式选择**

该子模块包含一个标签"Animation Style"和一个下拉选择框(Dropdown/Select)。下拉框的默认值为"Fade In"。

**交互逻辑:** 

当用户点击下拉框时,应展开一个选项列表,列表中包含多个预设的动画样式选项,例如"Fade In"(淡入)、"Slide Up"(上滑)、"Scale"(缩放)等。

当用户点击列表中的某个选项时,该选项被选中,下拉框的显示值更新为选中的选项文字,选项列表收起。选中状态的改变应立即更新内部状态变量(例如 `config.animationStyle`)。

该设置将影响前端小部件首次出现在页面上时的动画效果。不同的动画样式会给用户带来不同的视觉体验,商家可以根据其品牌风格选择最合适的动画效果。

#### 模块 2.5: 操作按钮区

该模块位于页面底部,包含两个操作按钮:"Save Changes"(保存更改)和"Reset to Default"(重置为默认)。

**子模块 2.5.1: 保存更改按钮**

该按钮为主要操作按钮(Primary Button),采用紫色填充样式,文字为白色,文字内容为"Save Changes"。

**交互逻辑:** 

当用户将鼠标悬停在按钮上时,按钮的背景色应从标准紫色变为更深的紫色,鼠标指针变为手形,提供视觉反馈。

当用户点击按钮时,应触发保存逻辑。具体而言,应用应将当前页面上所有配置项的值(包括小部件位置、颜色、文本、高级选项等)打包成一个数据对象,通过HTTP POST或PUT请求发送到后端API进行持久化存储。

在保存请求发送期间,按钮应进入加载状态(Loading State),以防止用户重复点击。加载状态的视觉表现可以是按钮文字变为"Saving...",同时在文字左侧显示一个旋转的加载图标(Spinner)。按钮应变为不可点击状态,背景色可以变浅以表明其禁用。

当后端API返回成功响应时,应用应显示一个短暂的成功提示,例如使用Toast组件在页面顶部或右上角显示"Settings saved successfully!"的消息,持续时间约3秒后自动消失。按钮恢复为正常状态。

当后端API返回失败响应时,应用应显示一个错误提示,例如使用Toast组件显示"Failed to save settings. Please try again."的消息,并提供错误的详细信息(如果有)。按钮恢复为正常状态,允许用户重新尝试保存。

**子模块 2.5.2: 重置为默认按钮**

该按钮为次要操作按钮(Secondary Button),通常采用白色背景、灰色描边的样式,或者直接采用文字链接的样式。文字内容为"Reset to Default"。

**交互逻辑:** 

当用户将鼠标悬停在按钮上时,按钮的背景色应变为浅灰色,鼠标指针变为手形,提供视觉反馈。

当用户点击按钮时,应用应弹出一个确认对话框(Confirm Dialog),对话框的标题可以是"Reset to Default Settings?",内容可以是"Are you sure you want to reset all settings to their default values? This action cannot be undone.",并提供两个按钮:"Cancel"(取消)和"Reset"(重置)。

如果用户点击"Cancel"按钮,对话框关闭,不进行任何操作,页面上的配置项保持当前值不变。

如果用户点击"Reset"按钮,对话框关闭,应用应将页面上所有配置项的值恢复到系统预设的默认值。例如,小部件位置恢复为"Bottom Right",水平和垂直偏移恢复为20px,主色调恢复为`#7C3AED`,按钮文字恢复为"Try It On"等。所有输入框、滑块、开关、下拉框的显示值应同步更新,实时预览按钮也应恢复为默认样式。

重置操作不会立即保存到后端,用户需要点击"Save Changes"按钮才能将重置后的默认值持久化。这样的设计允许用户在重置后进行进一步的调整,或者在不满意重置结果时通过刷新页面来恢复到重置前的状态。

### 页面交互流程总结

下表总结了用户在外观配置页面上的典型操作流程及系统响应:

| 步骤 | 用户操作 | 系统响应 | 状态变化 |
|-----|---------|---------|---------|
| 1 | 进入页面 | 加载并显示当前保存的配置值,实时预览显示对应效果 | 页面初始化完成 |
| 2 | 拖动"水平偏移"滑块 | 实时更新数值显示,预览按钮水平移动 | `config.horizontalOffset` 更新 |
| 3 | 点击"主色调"颜色预览框 | 弹出颜色选择器面板 | 颜色选择器打开 |
| 4 | 在颜色选择器中选择新颜色 | 颜色预览框和实时预览按钮的背景色实时更新 | `config.primaryColor` 更新 |
| 5 | 在"按钮文字"输入框中输入新文字 | 实时预览按钮的文字实时更新 | `config.buttonText` 更新 |
| 6 | 点击"高级选项"标题 | 面板展开,显示高级配置项 | 面板状态变为展开 |
| 7 | 点击"在移动端显示"开关 | 开关状态切换,滑块手柄滑动,背景色变化 | `config.showOnMobile` 更新 |
| 8 | 点击"保存更改"按钮 | 按钮进入加载状态,发送保存请求到后端 | 保存请求发送中 |
| 9 | 后端返回成功响应 | 显示成功提示Toast,按钮恢复正常状态 | 配置已保存 |
| 10 | 点击"重置为默认"按钮 | 弹出确认对话框 | 等待用户确认 |
| 11 | 在对话框中点击"Reset" | 所有配置项恢复为默认值,UI同步更新 | 配置已重置(未保存) |

---

## 第三部分:通用交互设计原则

### 视觉反馈原则

所有可交互的元素(按钮、链接、输入框、滑块、开关等)都应在用户操作时提供清晰的视觉反馈。常见的反馈形式包括:

- **悬停状态(Hover)**: 鼠标悬停时,元素的颜色、阴影、边框等属性发生微妙变化,鼠标指针变为手形或其他相应形状。
- **激活状态(Active)**: 鼠标按下时,元素的颜色变深或出现内阴影,模拟物理按压的效果。
- **焦点状态(Focus)**: 键盘导航时,元素周围出现明显的焦点环(Focus Ring),通常为蓝色或品牌色。
- **禁用状态(Disabled)**: 元素的透明度降低,颜色变灰,鼠标指针变为"禁止"图标,表明元素不可交互。
- **加载状态(Loading)**: 元素显示旋转图标或进度条,表明后台正在处理请求,用户需要等待。

### 实时预览原则

对于影响视觉呈现的配置项(如颜色、文字、位置等),应提供实时预览功能,让用户可以在不保存的情况下即时看到修改效果。实时预览应具有以下特性:

- **即时响应**: 用户操作后,预览应在毫秒级时间内更新,不应有明显的延迟。
- **准确性**: 预览效果应尽可能接近前端实际显示效果,包括颜色、字体、尺寸、阴影等细节。
- **独立性**: 预览的更新不应依赖于"保存"操作,用户可以自由尝试不同的配置而不用担心误操作。

### 错误处理原则

当用户输入无效数据或系统发生错误时,应提供清晰、友好的错误提示,帮助用户理解问题并采取纠正措施。错误提示应具有以下特性:

- **明确性**: 错误提示应明确指出哪个字段或操作出现了问题,以及问题的具体原因。
- **建设性**: 错误提示应提供解决问题的建议或指引,而不仅仅是告知用户"出错了"。
- **非阻断性**: 对于非关键性错误,应使用Toast或内联提示的形式,而不是阻断性的模态对话框,以免打断用户的操作流程。
- **持久性**: 错误提示应保持可见,直到用户纠正错误或主动关闭提示,以免用户错过重要信息。

### 可访问性原则

所有交互元素都应遵循Web可访问性标准(WCAG),确保残障用户也能顺利使用应用。关键的可访问性要求包括:

- **键盘导航**: 所有可交互元素都应支持键盘操作,用户可以通过Tab键在元素间导航,通过Enter或Space键激活元素。
- **ARIA标签**: 为复杂的交互元素(如开关、滑块、折叠面板等)添加适当的ARIA属性,以便屏幕阅读器能够正确解读元素的角色和状态。
- **颜色对比度**: 文字与背景之间的颜色对比度应符合WCAG AA级标准(至少4.5:1),以确保视力较弱的用户也能清晰阅读。
- **焦点可见性**: 键盘焦点应始终可见,焦点环的颜色应与背景形成足够的对比度。

---

## 第四部分:技术实现建议

### 状态管理

建议使用React的`useState`或`useReducer` Hook来管理页面上所有配置项的状态。所有配置项的值应存储在一个统一的状态对象中,例如:

```javascript
const [config, setConfig] = useState({
  position: 'bottom-right',
  horizontalOffset: 20,
  verticalOffset: 20,
  primaryColor: '#7C3AED',
  buttonTextColor: '#FFFFFF',
  buttonText: 'Try It On',
  modalTitle: 'AI Virtual Try-On',
  uploadInstructions: 'Upload your photo...',
  showOnMobile: true,
  autoDetectClothing: true,
  animationStyle: 'fade-in',
});
```

当用户修改任一配置项时,应使用`setConfig`函数更新对应的字段,触发组件重新渲染,从而实现实时预览的效果。

### API通信

保存配置时,应将`config`对象序列化为JSON格式,通过HTTP PUT或POST请求发送到后端API。建议的API端点为`/api/settings/appearance`。请求示例:

```javascript
const handleSave = async () => {
  setIsSaving(true);
  try {
    const response = await fetch('/api/settings/appearance', {
      method: 'PUT',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(config),
    });
    if (response.ok) {
      showSuccessToast('Settings saved successfully!');
    } else {
      throw new Error('Failed to save settings');
    }
  } catch (error) {
    showErrorToast('Failed to save settings. Please try again.');
  } finally {
    setIsSaving(false);
  }
};
```

### 实时预览实现

实时预览按钮应是一个独立的React组件,其样式属性直接绑定到`config`对象的对应字段。示例:

```jsx
<button
  style={{
    backgroundColor: config.primaryColor,
    color: config.buttonTextColor,
  }}
  className="preview-button"
>
  {config.buttonText}
</button>
```

这样,每当`config`对象中的相关字段发生变化时,预览按钮的样式会自动更新,无需额外的逻辑处理。

### 动画效果

对于折叠面板、开关切换等需要动画效果的交互,建议使用CSS过渡(Transition)或动画(Animation)来实现平滑的视觉效果。也可以使用React动画库(如Framer Motion或React Spring)来实现更复杂的动画效果。

---

## 附录:交互元素样式规范

下表总结了页面中主要交互元素的样式规范,供设计师和开发人员参考:

| 元素类型 | 默认状态 | 悬停状态 | 激活状态 | 禁用状态 |
|---------|---------|---------|---------|---------|
| 主按钮 | 背景`#7C3AED`,文字白色 | 背景`#6D28D9` | 背景`#5B21B6` | 背景`#D1D5DB`,文字`#9CA3AF` |
| 次按钮 | 背景白色,边框`#D1D5DB` | 背景`#F3F4F6` | 背景`#E5E7EB` | 透明度60% |
| 文字链接 | 文字`#7C3AED` | 文字`#6D28D9`,下划线 | 文字`#5B21B6` | 文字`#9CA3AF` |
| 输入框 | 边框`#D1D5DB` | 边框`#9CA3AF` | 边框`#7C3AED`,焦点环 | 背景`#F3F4F6`,边框`#E5E7EB` |
| 滑块 | 轨道`#E5E7EB`,手柄白色 | 手柄阴影加深 | 手柄`#7C3AED` | 轨道`#F3F4F6`,手柄`#D1D5DB` |
| 开关(开) | 背景`#7C3AED`,手柄白色 | 背景`#6D28D9` | - | 背景`#D1D5DB` |
| 开关(关) | 背景`#D1D5DB`,手柄白色 | 背景`#C4C4C4` | - | 背景`#E5E7EB` |

---

**文档结束**

本文档为 Shopify AI Virtual Try-On 应用商家后台的交互设计提供了详尽的规范和指引。在实际开发过程中,如遇到文档未覆盖的场景或需要进一步澄清的细节,请及时与产品团队沟通,以确保最终实现符合设计意图和用户体验目标。
